<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Maven实战 进阶版 | 李吉磊 Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.5fb9499f.js" as="script"><link rel="preload" href="/assets/js/2.9b59b4ff.js" as="script"><link rel="preload" href="/assets/js/1.96620eb7.js" as="script"><link rel="preload" href="/assets/js/23.b8ebfab3.js" as="script"><link rel="prefetch" href="/assets/js/10.619c73b1.js"><link rel="prefetch" href="/assets/js/11.4fe3d8ed.js"><link rel="prefetch" href="/assets/js/12.431e0208.js"><link rel="prefetch" href="/assets/js/13.bbe468eb.js"><link rel="prefetch" href="/assets/js/14.12dedade.js"><link rel="prefetch" href="/assets/js/15.ce4589f9.js"><link rel="prefetch" href="/assets/js/16.f10ed1ca.js"><link rel="prefetch" href="/assets/js/17.9003e5f4.js"><link rel="prefetch" href="/assets/js/18.6a5c6852.js"><link rel="prefetch" href="/assets/js/19.4b690de6.js"><link rel="prefetch" href="/assets/js/20.3bada28f.js"><link rel="prefetch" href="/assets/js/21.21d2fb09.js"><link rel="prefetch" href="/assets/js/22.faf845ed.js"><link rel="prefetch" href="/assets/js/24.b27a1f24.js"><link rel="prefetch" href="/assets/js/25.24f97634.js"><link rel="prefetch" href="/assets/js/26.e2c8f48f.js"><link rel="prefetch" href="/assets/js/27.9f133172.js"><link rel="prefetch" href="/assets/js/28.75ed8791.js"><link rel="prefetch" href="/assets/js/29.66073005.js"><link rel="prefetch" href="/assets/js/3.c5ac82c9.js"><link rel="prefetch" href="/assets/js/30.a2505f42.js"><link rel="prefetch" href="/assets/js/4.2252019f.js"><link rel="prefetch" href="/assets/js/5.9c2dcfae.js"><link rel="prefetch" href="/assets/js/6.e16cc827.js"><link rel="prefetch" href="/assets/js/7.d07accda.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.58186997.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">李吉磊 Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/lijileiGood/lijileiGood.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/lijileiGood/lijileiGood.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Maven实战 进阶版</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/maven/#博主前言" class="sidebar-link">博主前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/maven/#第1章-maven简介" class="sidebar-link">第1章 Maven简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/maven/#第3章-maven使用入门" class="sidebar-link">第3章 Maven使用入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/maven/#pom-xml介绍" class="sidebar-link">pom.xml介绍</a></li><li class="sidebar-sub-header"><a href="/maven/#写代码-测试-打包-发布" class="sidebar-link">写代码/测试/打包/发布</a></li></ul></li><li><a href="/maven/#第5章-坐标和依赖" class="sidebar-link">第5章 坐标和依赖</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/maven/#scope" class="sidebar-link">scope</a></li><li class="sidebar-sub-header"><a href="/maven/#传递性依赖" class="sidebar-link">传递性依赖</a></li><li class="sidebar-sub-header"><a href="/maven/#排除依赖" class="sidebar-link">排除依赖</a></li><li class="sidebar-sub-header"><a href="/maven/#归类依赖" class="sidebar-link">归类依赖</a></li></ul></li><li><a href="/maven/#第7章-生命周期和插件" class="sidebar-link">第7章 生命周期和插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/maven/#插件build" class="sidebar-link">插件build</a></li><li class="sidebar-sub-header"><a href="/maven/#真实项目" class="sidebar-link">真实项目</a></li></ul></li><li><a href="/maven/#第8章-聚合与继承" class="sidebar-link">第8章 聚合与继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/maven/#父模块" class="sidebar-link">父模块</a></li><li class="sidebar-sub-header"><a href="/maven/#子模块" class="sidebar-link">子模块</a></li></ul></li><li><a href="/maven/#给maven改bug" class="sidebar-link">给maven改bug</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/maven/#gradle-to-maven" class="sidebar-link">gradle to maven</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/maven/#generate-pom-xml" class="sidebar-link">generate pom.xml</a></li><li class="sidebar-sub-header"><a href="/maven/#modify-pom-xml" class="sidebar-link">modify pom.xml</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="博主前言"><a href="#博主前言" class="header-anchor">#</a> 博主前言</h2> <p>如果你是一名初级开发工程师, 在架构师制定的规则下CURD, 读此书大有用处, 它会助你高屋建瓴的看清项目<br>
如果你是一名高级开发工程师, 比如说现在的我, 想对项目结构做一些调整优化, 那么此书必读不可.<br>
此系列是我的读书笔记, 结合实际工作所写, 请享用</p> <h2 id="第1章-maven简介"><a href="#第1章-maven简介" class="header-anchor">#</a> 第1章 Maven简介</h2> <p>何为构建: 从各个网站地方找工具类, 使用工具类写功能代码, 发布到服务器这些过程叫做构建<br>
而maven把这些帮忙干了, 这也是maven的作用/定位</p> <p>maven还搞了一套文件目录的约定, 让全世界的Java项目都按这套约定走, 减少了人与人之间的学习成本和沟通成本</p> <h2 id="第3章-maven使用入门"><a href="#第3章-maven使用入门" class="header-anchor">#</a> 第3章 Maven使用入门</h2> <ul><li><p>默认找的一个环境变量是<code>JAVA_HOME</code>, 我的执行的brew 安装的jdk17, maven版本是3.9.1</p></li> <li><p>不建议使用IDE自带的, 因为有时会在Terminal中执行一些mvn命令, 自带和本地安装的版本不一样的话, 执行mvn命令和预期的不一样.</p></li> <li><p>下载下来的jar包都在<code>用户根目录/.m2/repository</code>(约定/默认)中, unix系统就是<code>~/.m2/repository</code></p></li> <li><p>安装目录下有bin/conf/lib等一堆文件夹, 其中最重要的是conf中有个setting.xml, 这是整个maven的配置文件. 想要自定义一些配置, 最佳实践是copy到<code>~/.m2</code>后再改</p></li></ul> <h3 id="pom-xml介绍"><a href="#pom-xml介绍" class="header-anchor">#</a> pom.xml介绍</h3> <p>pom.xml分三个部分，定义本工程的坐标、工程所依赖的jar包、打包运行方式。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.lijilei.dept<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hello-world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>jilei study maven first project<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>&lt;modelVersion&gt; 指定当前 POM 模型的版本，对于 Maven 2 及Maven 3 来说，它只能是4.0.0</li> <li>&lt;groupld&gt; 该项目属于<strong>那个公司的哪个组/部门</strong>，google有一个search的项目组，则groupld就应该是<code>com.google.search</code>; 本书中的groupld是<code>com.juvenxu.mvnbook</code></li> <li>&lt;artifactld&gt;<strong>部门中产品名/项目名</strong>, 这次的项目名叫<code>hello-world</code></li> <li>&lt;version&gt; 项目当前的版本, <code>SNAPSHOT</code>意为快照，说明该项目还处于开发中/不稳定的版本. 稳定的叫<code>1.0</code>(不加snapshot)</li> <li>&lt;name&gt; 非必须, 用于声明一个对于用户更为友好的项目名称, 便于交流</li> <li>&lt;packaging&gt;非必须, 打包的格式jar/war/pom, 默认jar</li></ul> <h3 id="写代码-测试-打包-发布"><a href="#写代码-测试-打包-发布" class="header-anchor">#</a> 写代码/测试/打包/发布</h3> <p>目录结构</p> <div class="language- extra-class"><pre><code>├─src
│  ├─main
│  │  ├─java   
│  │  └─resources
│  └─test
│      ├─java
|  		 └─resources
│--pom.xml
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>lijilei<span class="token punctuation">.</span>dept</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>mvn clean compile</code></p> <ul><li>clean 删除target目录</li> <li>compile 生成新的target目录, 代码在<code>target/classes/com/lijilei/dept/HelloWorld.class</code></li></ul> <p><strong>编写测试代码</strong></p> <p>导入junit包, 这个作者不按套路出牌, 它的groupId不是<code>com.domain.group</code>, 但这种写法其实也是允许的</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>&lt;scope&gt; 意思: 范围, 领域; default is compile<br>
声明test表示该依赖只对测试有效, 在测试类中可以import junit, 在主类中引入不到该依赖.<br>
试了一下<strong>在主类中引入提示需要引入该jar</strong></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>lijilei<span class="token punctuation">.</span>dept</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token static">assertEquals</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>class name: 被测试的类名+Test</p></li> <li><p>method name: test + 被测试的method name</p></li> <li><p>有意思的是: <code>new HelloWorld</code>居然不用improt该类, 虽然在IDE中看着是两个文件夹, 但其实编译后是在一块的(同路径)</p></li> <li><p>执行测试: <code>mvn clean test</code></p></li> <li><p><strong>打包</strong>在target文件夹下生成hello-word-1.0-SNAPSHOT.jar(项目名-版本号): <code>mvn clean package</code></p></li> <li><p><strong>发布</strong>: 让别的项目能引到该jar: <code>mvn clean install</code><br>
就是把jar放到了<code>~/.m2/repository/com/lijilei/dept/hello-world/1.0-SNAPSHOT/hello-world-1.0-SNAPSHOT.jar</code></p></li></ul> <p><strong>根据脚手架快速生成项目</strong><br>
就是帮你建好maven指定的目录结构<br> <code>mvn archetype:generate</code><br>
然后开始填想要的domain, 项目名就行了</p> <h2 id="第5章-坐标和依赖"><a href="#第5章-坐标和依赖" class="header-anchor">#</a> 第5章 坐标和依赖</h2> <p>&lt;img src=&quot;./images/image-20231210170133845.png&quot; alt=&quot;image-20231210170133845&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <p>&lt;img src=&quot;./images/image-20231210170218593.png&quot; alt=&quot;image-20231210170218593&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.lijilei.dept<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hello-world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span> jar包生效的范围, 默认compile
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span> // 是否可选true/false, 比如说同时准备两种数据库的链接包, 但最佳实践是各建一个maven项目
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span> // 排除那些传递性依赖
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      ......
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="scope"><a href="#scope" class="header-anchor">#</a> scope</h3> <p>mvn中内部有三套classpath在用, 分别是 compile classpath, test classpath, run classpath, 分别对应三套生命周期加载那些jar包</p> <p>scope就是在控制导入的依赖在那个classpath生效</p> <ul><li>compile: 默认, 在三套classpath都有效</li> <li>test, 只对测试包有效, 编译<code>mvn compile</code>和运行时都无法使用该依赖<br>
例: junit测试框架, 只需要测试阶段执行就ok, 别的情况不需要</li> <li>provided, 对compile和test有效.<br>
例: servlet-api编译和测试时需要该依赖，但在运行项目的时候，由于tomcat容器已经提供就不需要了</li> <li>runtime, 对于测试和运行有效<br>
例:JDBC驱动的实现，项目只需要编译JDK提供的 JDBC 接口，测试或运行时候才需要真正加载该jar包</li></ul> <h3 id="传递性依赖"><a href="#传递性依赖" class="header-anchor">#</a> 传递性依赖</h3> <p>项目导入了spring包, maven就会把spring包中用的依赖core/common/web等自动导入到项目中.<br>
项目直接依赖(第一依赖)于spring包, 第二依赖于core/common/web</p> <p><strong>依赖冲突</strong></p> <p>A -&gt; B -&gt; C -&gt; X-1.0<br>
A -&gt; D -&gt; X-2.0<br>
传递依赖导入了X的不同版本, 使用路径短的,即<code>a-d-x-2.0</code></p> <p>A -&gt; B -&gt; X-1.0<br>
A -&gt; D -&gt; X-2.0<br>
路径长度相同的, pom中那个在前用那个</p> <h3 id="排除依赖"><a href="#排除依赖" class="header-anchor">#</a> 排除依赖</h3> <ul><li><p>不想用该jar中的某个传递的依赖, 可以写多个&lt;exclusion&gt;</p></li> <li><p>&lt;exclusion&gt;中只需要groupId和artifactId就可以唯一确定, 因为只会有一个jar, 不同版本会被&quot;解决&quot;掉</p></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span> // 排除那些传递性依赖
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      ......
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="归类依赖"><a href="#归类依赖" class="header-anchor">#</a> 归类依赖</h3> <p>spring的common/core/web全家桶会同时升版本, 抽取出来一个版本号变量</p> <div class="language-xml extra-class"><pre class="language-xml"><code>&lt; properties &gt; 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springframework.version</span><span class="token punctuation">&gt;</span></span>2.5.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springframework.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span> <span class="token punctuation">&gt;</span></span> 


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  	&lt; groupid&gt; org. spring framework <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  	&lt; groupid&gt; org. spring framework <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="第7章-生命周期和插件"><a href="#第7章-生命周期和插件" class="header-anchor">#</a> 第7章 生命周期和插件</h2> <ul><li>三套生命周期各自独立: clean, default, site</li> <li>单独一条生命周期上, 都会把之前的节点执行一遍</li></ul> <p><strong>clean</strong></p> <ul><li><p>pre-clean 执行一些清理前需要完成的工作。</p></li> <li><p>clean 清理上一次构建生成的文件。</p></li> <li><p>post-clean 执行一些清理后需要完成的工作。</p></li></ul> <p><strong>defaut</strong></p> <ul><li><p>validate</p></li> <li><p>compile 编译<code>src/main/java</code>目录下的Java文件至target文件夹</p></li> <li><p>test</p></li> <li><p>package 生成jar包</p></li> <li><p>verify</p></li> <li><p>install 把生成的jar部署到本地repo</p></li></ul> <p><code>mvn clean</code> 执行的是clean周期中的pre-clean和clean</p> <p><code>mvn test</code> 执行default周期的至test阶段</p> <p><code>mvn clean install</code> 两个生命周期, clean的clean节点, default的install节点</p> <h3 id="插件build"><a href="#插件build" class="header-anchor">#</a> 插件build</h3> <ul><li><p>插件和生命周期强绑定, 生命周期只是概念, 插件才是实现</p></li> <li><p>一个插件可以有多个目标(功能) , 可以通过命令行使用, 也可以通过配置在pom.xml中<strong>全局生效</strong></p> <ul><li><p>命令行使用: <code>mvn dependency:tree</code> 使用dependency插件的tree功能</p></li> <li><p>全局生效:<br>
在 POM 中配置插件时，如果该插件是 Maven 的官方插件（即groupld 为org.apache.maven.plugins)，就可以省略&lt;groupId&gt;</p> <div class="language-xml extra-class"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span> <span class="token punctuation">&gt;</span></span>
 		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
 			 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span> maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactid</span><span class="token punctuation">&gt;</span></span>
 			 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
 			 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
 					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">&gt;</span></span>1.5 /source&gt;
 					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>1.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span> <span class="token punctuation">&gt;</span></span>
 			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span> <span class="token punctuation">&gt;</span></span>
 		&lt; /plugin&gt;
 	&lt; /plugins &gt;
 &lt; /build&gt;
</code></pre></div></li></ul></li></ul> <h3 id="真实项目"><a href="#真实项目" class="header-anchor">#</a> 真实项目</h3> <p>This is a Spring Boot project that requires packaging the module into a JAR file.<br>
Spring Boot can create an executable JAR that contains the embedded Tomcat server.<br>
However, without the appropriate <code>&lt;plugin&gt;</code>, it won't generate the standard JAR file.<br>
So <code>&lt;build&gt;</code> of maven is very important!</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="第8章-聚合与继承"><a href="#第8章-聚合与继承" class="header-anchor">#</a> 第8章 聚合与继承</h2> <p>子模块默认会导入父模块的所有依赖&lt;dependencys&gt;, 而有时候只想用其中一部分, 则用&lt;dependencyManagement&gt;在父模块包裹一层, 子模块只有明确声明时才会引入.</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
 	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>使用SpringBoot</strong></p> <p>创建SpringBoot项目时, 自己项目在分多模块, SpringBoot本身也有自己的依赖要用,这时候就<strong>需要导入</strong>RedHat工程师给SpringBoot声明的一大堆&lt;dependencyMangement&gt;<br>
用的时候, 子模块直接导入<code>spring-boot-starter-web</code>就行了, 父模块不需要重复声明</p> <ul><li>&lt;type&gt;pom&lt;/type&gt; is 固定写法, 说明是依赖是个pom工程(没有实际代码)
<ul><li>scope=import说明要导入,但只导入声明不真正导入所有jar包<br>
import只能用在&lt;dependencyMangement&gt;下的type=pom中</li> <li>不加import, 则真导入所有jar包</li></ul></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="父模块"><a href="#父模块" class="header-anchor">#</a> 父模块</h3> <ul><li><p>声明必须必有的groupId, artifactId, version等等</p></li> <li><p>使用&lt;dependencyMangement&gt; 来声明引入那些jar包, 各用什么版本</p></li> <li><p>&lt;modules&gt; &lt;module&gt; 声明有什么子模块, 声明名就是compile是的顺序</p></li> <li><p>&lt;packaging&gt;是pom</p></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sjky.deepbi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>bi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>common<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>task<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>2.3.12.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>
	      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fastjson.version</span><span class="token punctuation">&gt;</span></span>1.2.76<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fastjson.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- SpringBoot 依赖配置 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- fastjson 序列化 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${fastjson.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
		# 全部的子模块都会继承
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
      
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="子模块"><a href="#子模块" class="header-anchor">#</a> 子模块</h3> <ul><li>&lt;parent&gt;引入父模块的三要素groupId, artifactId, version</li> <li>groupId和version就都遵循父模块的了, 只需要声明自己的名字即可artifactId</li> <li>引入自己用的依赖, 只需要写groupId和artifactId</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sjky.deepbi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>bi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.tangzc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-ext-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
      
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sjky.deepbi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>common-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> // 点一下是顶部的parent.version
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>查看maven导入的依赖关系图</strong></p> <ul><li>侧边栏maven -&gt; 选中某个项目 -&gt; showDependeny</li> <li>command + F 可以搜索jar名</li> <li>红色实线表示冲突，红色虚线表示多处引用</li> <li>点击线可以高亮显示</li></ul> <p>&lt;img src=&quot;./images/image-20231211145457700.png&quot; alt=&quot;image-20231211145457700&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <p><strong>查看多模块项目的依赖关系</strong></p> <p>&lt;img src=&quot;./images/image-20231211114658201.png&quot; alt=&quot;image-20231211114658201&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <h2 id="给maven改bug"><a href="#给maven改bug" class="header-anchor">#</a> 给maven改bug</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 从github上拉取代码</span>

<span class="token comment"># 查看发过的版本, 我电脑装的是3.9.1</span>
<span class="token function">git</span> tag

<span class="token function">git</span> checkout maven-3.9.1

<span class="token comment"># idea 打开maven项目, 在根目录(pom.xml在的目录)</span>
<span class="token comment"># mvnDebug是maven安装包中bin下的一个能力, 另一个能力是mvn.</span>
<span class="token comment"># 提示请监听8000端口</span>
➜  maven git:<span class="token punctuation">(</span>maven-3.9.1<span class="token punctuation">)</span> mvnDebug compile
Preparing to execute Maven <span class="token keyword">in</span> debug mode
Listening <span class="token keyword">for</span> transport dt_socket at address: <span class="token number">8000</span>
</code></pre></div><p><strong>idea配置连接远程JVM</strong></p> <p><img src="/assets/img/image-20231211171516654.1cc6da60.png" alt="image-20231211171516654"></p> <p>&lt;img src=&quot;./images/image-20231211171543182.png&quot; alt=&quot;image-20231211171543182&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <p><strong>侧边栏打断点, 右上方debug按钮, 就能打到断点处了</strong></p> <p><img src="/assets/img/image-20231211171752345.bb2f7546.png" alt="image-20231211171752345"></p> <p><strong>不正确的地方执行mvnDebug compile</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code>➜  bin git:<span class="token punctuation">(</span>stable<span class="token punctuation">)</span> mvnDebug compile
Preparing to execute Maven <span class="token keyword">in</span> debug mode
Listening <span class="token keyword">for</span> transport dt_socket at address: <span class="token number">8000</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Scanning <span class="token keyword">for</span> projects<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ------------------------------------------------------------------------
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> BUILD FAILURE
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ------------------------------------------------------------------------
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Total time:  <span class="token number">0.039</span> s
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Finished at: <span class="token number">2023</span>-12-11T16:26:38+08:00
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> ------------------------------------------------------------------------
<span class="token comment"># 重点 ============================ 执行的文件夹没有pom文件</span>
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> The goal you specified requires a project to execute but there is no POM <span class="token keyword">in</span> this directory <span class="token punctuation">(</span>/opt/homebrew/Cellar/maven/3.9.1/libexec/bin<span class="token punctuation">)</span>. Please verify you invoked Maven from the correct directory. -<span class="token operator">&gt;</span> <span class="token punctuation">[</span>Help <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span>
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> To see the full stack trace of the errors, re-run Maven with the <span class="token parameter variable">-e</span> switch.
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Re-run Maven using the <span class="token parameter variable">-X</span> switch to <span class="token builtin class-name">enable</span> full debug logging.
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span>
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> For <span class="token function">more</span> information about the errors and possible solutions, please <span class="token builtin class-name">read</span> the following articles:
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token punctuation">[</span>Help <span class="token number">1</span><span class="token punctuation">]</span> http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException
</code></pre></div><h2 id="gradle-to-maven"><a href="#gradle-to-maven" class="header-anchor">#</a> gradle to maven</h2> <p>查看gradle版本 <code>gradle --version</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>base<span class="token punctuation">)</span> ➜  ~ gradle <span class="token parameter variable">--version</span>

------------------------------------------------------------
Gradle <span class="token number">8.5</span>
------------------------------------------------------------

Build time:   <span class="token number">2023</span>-11-29 <span class="token number">14</span>:08:57 UTC
Revision:     28aca86a7180baa17117e0e5ba01d8ea9feca598

Kotlin:       <span class="token number">1.9</span>.20
Groovy:       <span class="token number">3.0</span>.17
Ant:          Apache Ant<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> version <span class="token number">1.10</span>.13 compiled on January <span class="token number">4</span> <span class="token number">2023</span>
JVM:          <span class="token number">17.0</span>.6 <span class="token punctuation">(</span>Oracle Corporation <span class="token number">17.0</span>.6+9-LTS-190<span class="token punctuation">)</span>
OS:           Mac OS X <span class="token number">14.2</span>.1 aarch64
</code></pre></div><h3 id="generate-pom-xml"><a href="#generate-pom-xml" class="header-anchor">#</a> generate pom.xml</h3> <p>下了个一个<code>realworld-example</code>的项目, 构建工具是gradle, 对gradle并不熟, 所以想把它转为maven项目.</p> <p>gradle在7及以后换了转maven的方式, 在此只记录7之后的.</p> <p>在build.gradle文件中, plugins模块下加这个一个plugin: <code>id &quot;maven-publish&quot;</code></p> <p><img src="/assets/img/image-20240119141401580.1c4f3f02.png" alt="image-20240119141401580"></p> <p>在build.gradle文件中, 最后加这个一些代码, 这样生成的&lt;groupId&gt;&lt;artifacId&gt;就是pom中写入的</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>
publishing <span class="token punctuation">{</span>
    publications <span class="token punctuation">{</span>
        <span class="token function">maven</span><span class="token punctuation">(</span>MavenPublication<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            groupId <span class="token operator">=</span> <span class="token string">'org.gradle.sample'</span>
            artifactId <span class="token operator">=</span> <span class="token string">'library'</span>
            version <span class="token operator">=</span> <span class="token string">'1.1'</span>

            from components<span class="token punctuation">.</span>java
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>刷新gradle后, 在右侧工具栏中找到这个任务执行</p> <p>&lt;img src=&quot;./images/image-20240119141625042.png&quot; alt=&quot;image-20240119141625042&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <p>然后在左侧build输出文件的这个位置就能看到生成的<code>pom</code>文件了, 另外该pom.xml也在<code>~/.m2/repository/org/gradle/sample/library/1.1/library-1.1.pom</code>路径下有一份</p> <p>&lt;img src=&quot;./images/image-20240119141646521.png&quot; alt=&quot;image-20240119141646521&quot; style=&quot;zoom:50%;&quot; /&gt;</p> <p>复制个新项目, 相处gradle相关的配置, 把pom复制到对应目录, 新开/导入该项目</p> <h3 id="modify-pom-xml"><a href="#modify-pom-xml" class="header-anchor">#</a> modify pom.xml</h3> <p>In <code>build.gradle</code> file , have lombok, junit4, mybatis-test, but general pom.xml have no somethings, and everyone &lt;scope&gt; is runtime!</p> <p>生成的pom.xml中的&lt;packaging&gt;类型是<code>pom</code>, 需要改过来<br>
所有的依赖&lt;scope&gt;都是<code>runtime</code>, 需要删掉了</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code># build<span class="token punctuation">.</span>gradle
dependencies <span class="token punctuation">{</span>
	  <span class="token comment">// lombok</span>
    compileOnly <span class="token string">'org.projectlombok:lombok'</span>

  	<span class="token comment">// test need </span>
    testImplementation <span class="token string">'io.rest-assured:rest-assured:3.1.1'</span>
    testImplementation <span class="token string">'io.rest-assured:spring-mock-mvc:3.1.1'</span>
    testImplementation <span class="token string">'org.springframework.boot:spring-boot-starter-test'</span>
    testImplementation <span class="token string">'org.mybatis.spring.boot:mybatis-spring-boot-starter-test:2.1.3'</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.gradle.sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>library<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>    ## error: pom  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>  ## error: runtime
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5fb9499f.js" defer></script><script src="/assets/js/2.9b59b4ff.js" defer></script><script src="/assets/js/1.96620eb7.js" defer></script><script src="/assets/js/23.b8ebfab3.js" defer></script>
  </body>
</html>
